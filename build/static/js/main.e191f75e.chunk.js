(this["webpackJsonpstores-app"]=this["webpackJsonpstores-app"]||[]).push([[0],{162:function(t,e,c){},191:function(t,e,c){"use strict";c.r(e);var r,n=c(0),a=c(25),i=c.n(a),s=(c(161),c(162),c(194)),o=c(204),u=c(5),j=c(202),l=c(87),d=c(193),b=c(92),O=c(203),p=c(206),f=c(39),x=c(78),h=c(8),y=function(){var t=Object(n.useState)(!1),e=Object(u.a)(t,2),c=e[0],r=e[1],a=Object(f.c)((function(t){return t.cart.cart})),i=Object(f.c)((function(t){return t.cart.cart})).length,s=a.reduce((function(t,e){return t+e.quantity*e.price}),0),o=function(){r(!1)};return Object(h.jsxs)("section",{children:[Object(h.jsxs)(j.a,{title:"Cart",placement:"right",closable:!0,onClose:o,visible:c,width:"40rem",style:{textAlign:"center"},children:[i<=0?Object(h.jsx)(l.a,{image:l.a.PRESENTED_IMAGE_SIMPLE}):null,a.map((function(t){return Object(h.jsxs)("section",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsxs)("section",{style:{display:"flex",flexDirection:"row",justifyContent:"start"},children:[Object(h.jsx)("img",{src:t.image,alt:"product item",style:{width:"3rem",height:"3rem"}}),Object(h.jsxs)("p",{children:[" ",t.title]})]}),Object(h.jsxs)("strong",{children:[" ","$",t.price," x ",t.quantity," = $",t.price*t.quantity]}),Object(h.jsx)(d.a,{style:{backgroundColor:"#000"}})]},t.id)})),Object(h.jsxs)("strong",{children:["Total : $",s.toFixed(2)," "]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(x.b,{to:"/cartDetail",children:Object(h.jsx)(b.a,{type:"primary",onClick:o,children:"View cart detail"})})]}),Object(h.jsx)(O.a,{count:i,overflowCount:9,children:Object(h.jsx)(p.a,{style:{fontSize:"2rem",color:"#fff"},onClick:function(){r(!0)}})})]})},m={display:"flex",justifyContent:"space-around"},g=function(){return Object(h.jsxs)(o.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:m,children:[Object(h.jsx)(o.a.Item,{children:Object(h.jsx)(x.b,{to:"/",children:"Home"})},"1"),Object(h.jsx)(o.a.Item,{children:"About"},"2"),Object(h.jsx)(o.a.Item,{children:"Contact"},"3"),Object(h.jsx)(o.a.Item,{children:Object(h.jsx)(y,{})},"4")]})},v=c(1),w=c(7),C=c(28),k=c.n(C),E=c(46),S=c(55),I=c(94),P=c.n(I),q=Object(S.b)("products/fetchProducts",Object(E.a)(k.a.mark((function t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://fakestoreapi.com/products");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))),A=Object(S.b)("products/filterProduct",function(){var t=Object(E.a)(k.a.mark((function t(e){var c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://fakestoreapi.com/products/category/".concat(e));case 2:return c=t.sent,t.abrupt("return",c.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D=Object(S.c)({name:"products",initialState:{products:[],status:"",error:""},reducers:{},extraReducers:(r={},Object(w.a)(r,q.pending,(function(t){t.status="Pending"})),Object(w.a)(r,q.fulfilled,(function(t,e){t.status="Success",t.products=e.payload})),Object(w.a)(r,q.rejected,(function(t,e){t.status="Error",t.error=e.error.message})),Object(w.a)(r,A.fulfilled,(function(t,e){t.products=e.payload})),r)}).reducer,T=c(199),$=c(196),F=c(154),R=c(195),_=c(86),M=c(197),z=c(205),B=c(207),L=Object(S.c)({name:"cart",initialState:{cart:[]},reducers:{addToCart:function(t,e){if(t.cart.push(e.payload),t.cart.filter((function(t){return t.id===e.payload.id})).length<=1){var c=t.cart.find((function(t){return t.id===e.payload.id})),r=t.cart.filter((function(t){return t.id!==e.payload.id}));t.cart=r.concat(c)}else{var n=t.cart.find((function(t){return t.id===e.payload.id})),a=t.cart.filter((function(t){return t.id!==e.payload.id}));n&&(n.quantity+=e.payload.quantity),t.cart=a.concat(n)}}}}),G=L.actions.addToCart,H=L.reducer,J=$.a.Text,N={width:"calc(100% / 4)",textAlign:"center"},V=function(t){var e=t.id,c=t.title,r=t.price,n=t.category,a=t.description,i=t.image,s=Object(f.b)();return Object(h.jsxs)(R.a,{style:N,children:[Object(h.jsx)(_.a,{title:a,placement:"right",children:Object(h.jsx)(M.a,{alt:"productItem",src:i,style:{width:"11rem",height:"12rem"}})}),Object(h.jsx)("br",{}),Object(h.jsx)(J,{type:"success",strong:!0,children:c}),Object(h.jsx)("br",{}),Object(h.jsxs)(J,{strong:!0,children:["$",r]}),Object(h.jsx)("br",{}),Object(h.jsx)(z.a,{color:"green",children:n}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)(b.a,{type:"primary",onClick:function(){s(G({id:e,title:c,price:r,image:i,quantity:1})),F.a.success({message:"Add to cart success !",duration:1,top:"8rem",style:{backgroundColor:"greenyellow"}})},icon:Object(h.jsx)(B.a,{}),children:"Add to cart"})]})},K=c(198),W=Object(S.b)("categories/fetchCategories",Object(E.a)(k.a.mark((function t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://fakestoreapi.com/products/categories");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))),Q=Object(S.c)({name:"categories",initialState:{categories:[]},reducers:{},extraReducers:Object(w.a)({},W.fulfilled,(function(t,e){t.categories=e.payload}))}).reducer,U=K.a.Option,X={width:"15rem"},Y=function(){var t=Object(f.b)(),e=Object(f.c)((function(t){return t.category.categories}));Object(n.useEffect)((function(){t(W())}),[]);return Object(h.jsxs)(K.a,{defaultValue:"all",style:X,onChange:function(e){t("all"===e?q():A(e))},children:[Object(h.jsx)(U,{value:"all",children:"All"}),e.map((function(t,e){return Object(h.jsx)(U,{value:t,children:t},e)}))]})},Z={display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between",alignItem:"center"},tt=function(){var t=Object(f.b)(),e=Object(f.c)((function(t){return t.products.status})),c=Object(f.c)((function(t){return t.products.products})).map((function(t){return Object(h.jsx)(V,Object(v.a)({},t),t.id)}));return Object(n.useEffect)((function(){t(q())}),[]),Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"Product List"}),Object(h.jsx)("section",{children:Object(h.jsx)(Y,{})}),Object(h.jsxs)("section",{style:Z,children:["Pending"===e?Object(h.jsx)(T.a,{loading:e,active:!0}):null,c]})]})},et=s.a.Content,ct=function(){return Object(h.jsx)(et,{style:{padding:"1rem 2rem"},children:Object(h.jsx)(tt,{})})},rt=c(201),nt=s.a.Footer,at=function(){return Object(h.jsxs)(nt,{children:[Object(h.jsx)(rt.a,{}),Object(h.jsx)("h2",{children:"Footer page"})]})},it=s.a.Header,st=s.a.Content,ot=s.a.Footer,ut=function(){return Object(h.jsxs)(s.a,{children:[Object(h.jsx)(it,{style:{position:"sticky",top:"0",zIndex:"2"},children:Object(h.jsx)(g,{})}),Object(h.jsx)(st,{children:Object(h.jsx)(ct,{})}),Object(h.jsx)(ot,{children:Object(h.jsx)(at,{})})]})},jt=c(30),lt=c(200),dt=function(t){t.totalPrice;var e=Object(n.useRef)();return Object(n.useEffect)((function(){window.paypal.Buttons({createOrder:function(t,e,c){return e.order.create({intent:"capture",purchase_units:[{description:"First Order",amount:{value:650}}]})},onApprove:function(){var t=Object(E.a)(k.a.mark((function t(e,c){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.order.capture();case 2:r=t.sent,console.log(r);case 4:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),onError:function(t){console.log(t)}}).render(e.current)}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("div",{ref:e,id:"payButton"})})},bt=function(){var t=Object(n.useState)(!0),e=Object(u.a)(t,2),c=e[0],r=e[1],a=Object(n.useState)(!1),i=Object(u.a)(a,2),s=i[0],o=i[1],j=Object(f.c)((function(t){return t.cart.cart})),O=Object(f.c)((function(t){return t.cart.cart})).length,p=j.reduce((function(t,e){return t+e.quantity*e.price}),0);return Object(h.jsxs)(lt.a,{title:"Cart",visible:c,onOk:function(){r(!1)},onCancel:function(){r(!1)},children:[O<=0?Object(h.jsx)(l.a,{image:l.a.PRESENTED_IMAGE_SIMPLE}):null,j.map((function(t){return Object(h.jsxs)("section",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsxs)("section",{style:{display:"flex",flexDirection:"row",justifyContent:"start"},children:[Object(h.jsx)("img",{src:t.image,alt:"product item",style:{width:"3rem",height:"3rem"}}),Object(h.jsxs)("p",{children:[" ",t.title]})]}),Object(h.jsxs)("strong",{children:[" ","$",t.price," x ",t.quantity," = $",t.price*t.quantity]}),Object(h.jsx)(d.a,{style:{backgroundColor:"#000"}})]},t.id)})),Object(h.jsxs)("strong",{children:["Total : $",p.toFixed(2)," "]}),s?Object(h.jsx)(dt,Object(v.a)({},p)):Object(h.jsx)(b.a,{onClick:function(){return o(!0)},children:"Checkout"})]})};var Ot=function(){return Object(h.jsx)("section",{children:Object(h.jsxs)(x.a,{children:[Object(h.jsx)(ut,{}),Object(h.jsxs)(jt.c,{children:[Object(h.jsx)(jt.a,{path:"/about"}),Object(h.jsx)(jt.a,{path:"/contact"}),Object(h.jsx)(jt.a,{path:"/cart",component:y}),Object(h.jsx)(jt.a,{path:"/cartDetail",component:bt}),Object(h.jsx)(jt.a,{exact:!0,path:"/"})]})]})})},pt=Object(S.a)({reducer:{products:D,category:Q,cart:H}});i.a.render(Object(h.jsx)(f.a,{store:pt,children:Object(h.jsx)(Ot,{})}),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.e191f75e.chunk.js.map